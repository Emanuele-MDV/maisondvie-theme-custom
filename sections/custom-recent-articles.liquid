<div class="page-width narrow">

  <h2>{{ section.settings.section_title }}</h2>

  {% assign current_title = article.title %}

  {% capture recent_posts %}
    {% for article in blog.articles %}
      {% unless post.title == current_title %}
        {{ article.title }}
      {% endunless %}
    {% endfor %}
  {% endcapture %}

  {% assign articles_array = recent_posts | split: ', '%}

  {{ articles_array }}

  {% for post in articles_array %}
    {{ title }}
  {% endfor %}
  
</div>

{% comment %}
<article>
  <figure>
    {% assign image = post.image %}
    <img
    src="{{ image.src | img_url: '480x' }}"  
    />
  </figure>
  <p>{{ post.published_at | date: "%b %d, %y" }}</p>
  <h3>{{ post.title }}</h3>
  <a href="{{ post.url }}"><span>Read article</span>{% render 'icon-arrow' %}</a>
</article>
{% endcomment %}

{% schema %}
  {
    "name": "Custom recent articles",
    "tag":"section",
    "class":"blogs-list",
    "templates":["article"],
    "settings": [
      {
        "type":"text",
        "id":"section_title",
        "label":"Section title",
        "default":"Recent articles"
      }
    ],
    "presets": [
      {
        "name":"Custom recent articles"
      }
    ]
  }
{% endschema %}